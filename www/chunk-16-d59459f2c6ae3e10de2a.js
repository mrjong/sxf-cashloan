(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{M9xh:function(e,n,t){var o=t("sEG9");(n=e.exports=t("I1BE")(!1)).push([e.i,".index-loginContentb1131e435bf7f5bf23ddef914d59f42b .index-loginLog6a35242f37821dd80a1cc4806430ed5e {\n  background-image: url("+o(t("W3TP"))+");\n  background-repeat: no-repeat;\n  background-size: 100%;\n  background-origin: content-box;\n  width: 7.5rem;\n  height: 13.34rem;\n  text-align: center; }\n  @media (-webkit-min-device-pixel-ratio: 3), (min-resolution: 3dppx) {\n    .index-loginContentb1131e435bf7f5bf23ddef914d59f42b .index-loginLog6a35242f37821dd80a1cc4806430ed5e {\n      background-image: url("+o(t("VKjz"))+"); } }\n\n.index-loginContentb1131e435bf7f5bf23ddef914d59f42b .index-centent1db4f0920c2f5681de5f3f099a6abc70 {\n  position: relative;\n  top: 7.5rem; }\n  .index-loginContentb1131e435bf7f5bf23ddef914d59f42b .index-centent1db4f0920c2f5681de5f3f099a6abc70 .index-loginInput99470dbbb1f987050411b1d7c1f60f8f {\n    width: 5.59rem;\n    height: 0.85rem;\n    line-height: 0.85rem;\n    float: left;\n    padding-left: 0.31rem;\n    margin: 0.25rem 0.79rem;\n    border-radius: 0.07rem;\n    border: none; }\n  .index-loginContentb1131e435bf7f5bf23ddef914d59f42b .index-centent1db4f0920c2f5681de5f3f099a6abc70 input::-webkit-input-placeholder {\n    color: #999;\n    font-size: 0.27rem; }\n  .index-loginContentb1131e435bf7f5bf23ddef914d59f42b .index-centent1db4f0920c2f5681de5f3f099a6abc70 input:-ms-input-placeholder {\n    color: #999;\n    font-size: 0.27rem; }\n  .index-loginContentb1131e435bf7f5bf23ddef914d59f42b .index-centent1db4f0920c2f5681de5f3f099a6abc70 input::placeholder {\n    color: #999;\n    font-size: 0.27rem; }\n  .index-loginContentb1131e435bf7f5bf23ddef914d59f42b .index-centent1db4f0920c2f5681de5f3f099a6abc70 .index-smsCodeb0ef0787eeca2f01dfd8e16ccf1190d4 {\n    color: #fff;\n    background: #FFC601;\n    font-size: 0.27rem;\n    display: inline;\n    left: 4.8rem;\n    top: 1.82rem;\n    position: absolute;\n    width: 1.64rem;\n    height: 0.5rem;\n    line-height: 0.5rem;\n    text-align: center; }\n  .index-loginContentb1131e435bf7f5bf23ddef914d59f42b .index-centent1db4f0920c2f5681de5f3f099a6abc70 .index-smsCodeNumber06ba55df3b5ceae35ea568fac3f394dc {\n    color: #fff;\n    background: #B9B9B9;\n    font-size: 0.27rem;\n    display: inline;\n    left: 4.8rem;\n    top: 1.82rem;\n    position: absolute;\n    width: 1.64rem;\n    height: 0.5rem;\n    line-height: 0.5rem;\n    text-align: center; }\n  .index-loginContentb1131e435bf7f5bf23ddef914d59f42b .index-centent1db4f0920c2f5681de5f3f099a6abc70 .index-sureBtn02f7b2df9879e6fd2b227fd5bc826f4d {\n    display: inline;\n    background: #FFE401;\n    color: #333;\n    font-size: 0.48rem;\n    padding: 0.15rem 2rem;\n    position: relative;\n    top: 0.3rem;\n    border-radius: 0.07rem;\n    border: none; }\n  .index-loginContentb1131e435bf7f5bf23ddef914d59f42b .index-centent1db4f0920c2f5681de5f3f099a6abc70 .index-agreement1ca24231304b18f30647a2f9450a381c {\n    color: #fff;\n    font-size: 0.24rem;\n    position: relative;\n    top: 0.5rem;\n    text-align: left;\n    margin: 0 0.8rem; }\n",""]),n.locals={loginContent:"index-loginContentb1131e435bf7f5bf23ddef914d59f42b",loginLog:"index-loginLog6a35242f37821dd80a1cc4806430ed5e",centent:"index-centent1db4f0920c2f5681de5f3f099a6abc70",loginInput:"index-loginInput99470dbbb1f987050411b1d7c1f60f8f",smsCode:"index-smsCodeb0ef0787eeca2f01dfd8e16ccf1190d4",smsCodeNumber:"index-smsCodeNumber06ba55df3b5ceae35ea568fac3f394dc",sureBtn:"index-sureBtn02f7b2df9879e6fd2b227fd5bc826f4d",agreement:"index-agreement1ca24231304b18f30647a2f9450a381c"}},VKjz:function(e,n,t){e.exports=t.p+"img/loginBg@3x-a84d01b8.png"},VaHc:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.setBackGround=void 0;var o=s(t("SEkw")),r=s(t("s3Ml")),i=s(t("AyUB")),a=s(t("Yz+Y")),f=s(t("q1tI")),l=s(t("G4Gp")),d=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();function s(e){return e&&e.__esModule?e:{default:e}}var u=(0,l.default)({filename:"/Users/shawn-mac/01-工作/02-随行付/01-项目/03-还到/cashloan-plus-page/src/utils/Background.js",components:{_component:{isInFunction:!0}},locals:[e],imports:[f.default]});n.setBackGround=function(e){return function(n){return function(e){return function(n){return u(n,e)}}("_component")(function(t){function o(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(o.__proto__||(0,a.default)(o)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=(0,i.default)(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(r.default?(0,r.default)(e,n):e.__proto__=n)}(o,f.default.Component),d(o,[{key:"componentDidMount",value:function(){this.originBodyColor=document.body.style.background,document.body.style.background=e}},{key:"componentWillUnmount",value:function(){document.body.style.background=this.originBodyColor}},{key:"render",value:function(){return f.default.createElement(n,this.props)}}]),o}())}}}).call(this,t("YuTi")(e))},W3TP:function(e,n,t){e.exports=t.p+"img/loginBg@2x-e2458a03.png"},ewoT:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.validators={number:function(e){return/^[0-9]*$/.test(e)},bankCardNumber:function(e){return/^\d{16}|\d{24}$/.test(e)},phone:function(e){return/^1\d{10}$/.test(e)},iDCardNumber:function(e){return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)},enLength:function(e,n,t){return""!==e.replace(/(^\s*)|(\s*$)/g,"")&&(n?!(e.length<n)&&(!t||!(e.length>t)):void 0)},name:function(e){return/^([\u4e00-\u9fa5])|(\\.)|(\\·){1,10}$/.test(e)},chLength:function(e,n,t){return new RegExp("^(([一-龥])|(\\.)|(\\·)){"+(n||1)+","+(t||1e5)+"}$").test(e)}}},"yM/r":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0});var o,r=_(t("P2sY")),i=_(t("SEkw")),a=_(t("s3Ml")),f=_(t("AyUB")),l=_(t("NtIf")),d=_(t("gDS+")),s=_(t("Kl5d")),u=_(t("Yz+Y")),c=t("q1tI"),m=_(c),p=_(t("G4Gp")),b=r.default||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},g=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,i.default)(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();t("9prx"),t("TttT");var h=t("47e7"),v=_(t("p46w")),y=_(t("R6B9")),x=t("z0WU"),C=t("ewoT"),k=_(t("zlPj")),w=t("VaHc");function _(e){return e&&e.__esModule?e:{default:e}}var E=(0,p.default)({filename:"/Users/shawn-mac/01-工作/02-随行付/01-项目/03-还到/cashloan-plus-page/src/pages/login/login_page/index.js",components:{login_page:{displayName:"login_page"}},locals:[e],imports:[m.default]});var I=void 0,N={smsForLogin:"/signup/smsForLogin",sendsms:"/cmm/sendsms"},T=function(e){return function(n){return E(n,e)}}("login_page")((0,w.setBackGround)("#fff")(o=y.default.inject()(o=(0,h.createForm)()(o=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||(0,u.default)(n)).call(this,e));return t.validatePhone=function(e,n,t){C.validators.phone(n)?t():t("请输入正确手机号")},t.goLogin=function(){var e=(0,x.getDeviceType)();t.props.form.validateFields(function(n,o){n?s.default.info((0,x.getFirstError)(n)):t.props.$fetch.post(N.smsForLogin,{mblNo:o.phoneValue,smsJrnNo:t.state.smsJrnNo,osType:e,smsCd:o.smsCd,usrCnl:sessionStorage.getItem("h5Channel")?sessionStorage.getItem("h5Channel"):"h5",location:x.store.getPosition()}).then(function(e){"PTM0000"===e.msgCode?(v.default.set("fin-v-card-token",e.data.tokenId,{expires:365}),t.props.history.replace("/home/home")):e.msgInfo&&s.default.info(e.msgInfo)},function(e){e.msgInfo&&s.default.info(e.msgInfo)})})},t.go=function(e){t.props.history.push("/protocol/"+e)},t.state={timers:"获取验证码",timeflag:!0,flag:!0,smsJrnNo:""},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=(0,f.default)(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(a.default?(0,a.default)(e,n):e.__proto__=n)}(n,c.PureComponent),g(n,[{key:"componentWillMount",value:function(){document.title="登录和注册",v.default.remove("fin-v-card-token"),sessionStorage.clear(),console.log(this.props),this.props.form.getFieldProps("phoneValue"),this.props.form.setFieldsValue({phoneValue:""})}},{key:"componentWillUnmount",value:function(){clearInterval(I)}},{key:"getTime",value:function(e){this.getSmsCode(e)}},{key:"getSmsCode",value:function(e){var n=this,t=(0,x.getDeviceType)();this.props.form.validateFields(function(o,r){o&&o.smsCd&&delete o.smsCd,o&&"{}"!==(0,d.default)(o)?s.default.info((0,x.getFirstError)(o)):n.props.$fetch.post(N.sendsms,{type:"6",mblNo:r.phoneValue,osType:t}).then(function(t){if("PTM0000"!==t.msgCode)return s.default.info(t.msgInfo),n.setState({valueInputImgCode:""}),!1;s.default.info("发送成功，请注意查收！"),n.setState({timeflag:!1,smsJrnNo:t.data.smsJrnNo}),I=setInterval(function(){n.setState({flag:!1,timers:e--+'"'}),-1===e&&(clearInterval(I),n.setState({timers:"重新获取",timeflag:!0,flag:!0}))},1e3)})})}},{key:"render",value:function(){var e=this,n=this.props.form.getFieldProps;return m.default.createElement("div",{className:k.default.loginContent},m.default.createElement("div",{className:k.default.loginLog},m.default.createElement("div",{className:k.default.centent},m.default.createElement(l.default,b({maxLength:"11",type:"number",className:k.default.loginInput,placeholder:"请输入您的手机号"},n("phoneValue",{rules:[{required:!0,message:"请输入正确手机号"},{validator:this.validatePhone}]}))),m.default.createElement(l.default,b({type:"number",maxLength:"6",className:k.default.loginInput,placeholder:"请输入短信验证码"},n("smsCd",{rules:[{required:!0,message:"请输入正确验证码"}]}))),m.default.createElement("div",{className:this.state.flag?k.default.smsCode:k.default.smsCodeNumber,onClick:function(){e.state.timeflag&&e.getTime(59)}},this.state.timers),m.default.createElement("div",{style:{clear:"both"}}),m.default.createElement("div",{className:k.default.sureBtn,onClick:this.goLogin},"一键代还"),m.default.createElement("div",{className:k.default.agreement},"注册即视为同意 ",m.default.createElement("span",{onClick:function(){e.go("register_agreement_page")}},"《注册及授信协议》"),m.default.createElement("span",{onClick:function(){e.go("privacy_agreement_page")}},"《用户隐私协议》")))))}}]),n}())||o)||o)||o);n.default=T}).call(this,t("YuTi")(e))},zlPj:function(e,n,t){var o=t("M9xh");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=t("aET+")(o,r);o.locals&&(e.exports=o.locals),e.hot.accept("M9xh",function(){var n=t("M9xh");if("string"==typeof n&&(n=[[e.i,n,""]]),!function(e,n){var t,o=0;for(t in e){if(!n||e[t]!==n[t])return!1;o++}for(t in n)o--;return 0===o}(o.locals,n.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(n)}),e.hot.dispose(function(){i()})}}]);