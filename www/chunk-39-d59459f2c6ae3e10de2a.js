(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{Epcn:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,".index-bind_credit_page684a7db7558ea3f0e071de503223c596 {\n  margin-top: 0.41rem; }\n  .index-bind_credit_page684a7db7558ea3f0e071de503223c596 .am-list-item {\n    min-height: 0.9rem; }\n  .index-bind_credit_page684a7db7558ea3f0e071de503223c596 .am-list-body div:not(:last-child) .am-list-line {\n    border-color: #e5e5e5; }\n  .index-bind_credit_page684a7db7558ea3f0e071de503223c596 .am-list-item .am-list-line .am-list-content,\n  .index-bind_credit_page684a7db7558ea3f0e071de503223c596 .am-list-item .am-input-label,\n  .index-bind_credit_page684a7db7558ea3f0e071de503223c596 .am-list-item .am-list-line .am-list-extra,\n  .index-bind_credit_page684a7db7558ea3f0e071de503223c596 .am-list-item .am-input-control input {\n    font-size: 0.3rem;\n    color: #333; }\n  .index-bind_credit_page684a7db7558ea3f0e071de503223c596 .am-list-item .am-input-control input {\n    text-align: right; }\n  .index-bind_credit_page684a7db7558ea3f0e071de503223c596 .index-tipsb3dc60bea87e9ac01e698b50bd138414 {\n    font-size: 0.28rem;\n    color: #9d9d9d;\n    padding: 0 0.3rem;\n    margin-top: 0.2rem;\n    margin-bottom: 1.62rem; }\n  .index-bind_credit_page684a7db7558ea3f0e071de503223c596 .index-confirm_btn69c82a2535ec70d3e8f0a143a4af7c90 {\n    width: 6.2rem; }\n  .index-bind_credit_page684a7db7558ea3f0e071de503223c596 .index-support_type904bbf11b9ae556fc258a8419e5573e5 {\n    position: fixed;\n    left: 0;\n    bottom: 0.64rem;\n    width: 100%;\n    text-align: center;\n    font-size: 0.3rem;\n    color: #4da6ff; }\n\n@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 2dppx) {\n  html:not([data-scale]) .am-list-body div:not(:last-child) .am-list-line::after {\n    background-color: #e5e5e5; }\n  html:not([data-scale]) .am-list-body::after,\n  html:not([data-scale]) .am-list-body::before {\n    background-color: transparent; } }\n",""]),t.locals={bind_credit_page:"index-bind_credit_page684a7db7558ea3f0e071de503223c596",tips:"index-tipsb3dc60bea87e9ac01e698b50bd138414",confirm_btn:"index-confirm_btn69c82a2535ec70d3e8f0a143a4af7c90",support_type:"index-support_type904bbf11b9ae556fc258a8419e5573e5"}},Rpd0:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,r=E(n("P2sY")),i=E(n("SEkw")),o=E(n("s3Ml")),d=E(n("AyUB")),c=E(n("NtIf")),s=E(n("jeTP")),l=E(n("Yz+Y")),u=n("q1tI"),f=E(u),p=E(n("G4Gp")),m=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,i.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n("9prx"),n("cn7L");var h=E(n("R6B9")),g=(E(n("p46w")),n("47e7")),_=E(n("FT44")),v=n("ewoT"),y=n("z0WU"),C=E(n("orV9")),x=E(n("Qyje"));function E(e){return e&&e.__esModule?e:{default:e}}var N=(0,p.default)({filename:"/Users/shawn-mac/01-工作/02-随行付/01-项目/03-还到/cashloan-plus-page/src/pages/mine/bind_credit_page/index.js",components:{bind_credit_page:{displayName:"bind_credit_page"}},locals:[e],imports:[f.default]});var w={GETUSERINF:"/my/getRealInfo",GECARDINF:"/cmm/qrycardbin",BINDCARD:"/withhold/card/bindConfirm",CHECKCARD:"/my/chkCard"},k=function(e){return function(t){return N(t,e)}}("bind_credit_page")(h.default.inject()(a=(0,g.createForm)()(a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.queryUserInf=function(){n.props.$fetch.get(w.GETUSERINF).then(function(e){e.data&&n.setState({userName:e.data.usrNm})},function(e){e.msgInfo&&n.props.toast.info(e.msgInfo)})},n.validateCarNumber=function(e,t,n){v.validators.bankCardNumber(t)?n():n("请输入有效银行卡号")},n.bindConfirm=function(e){n.props.$fetch.post(w.BINDCARD,e).then(function(e){if("PTM0000"===e.msgCode){var t=y.store.getBackUrl();t?n.props.$fetch.get(w.CHECKCARD).then(function(e){if("PTM2003"===e.msgCode)n.props.history.push("/mine/bind_save_page");else{var a=x.default.parse(n.props.history.location.search,{ignoreQueryPrefix:!0});a&&a.noBankInfo?y.store.removeCardData():y.store.setCardData(n.state.cardData),y.store.removeBackUrl(),n.props.history.push(t)}}):n.props.history.replace("/mine/select_credit_page")}else n.props.toast.info(e.msgInfo)})},n.checkCard=function(e,t){n.props.$fetch.post(w.GECARDINF,e).then(function(e){if(n.setState({cardData:m({cardNo:t.valueInputCarNumber},e.data)}),"PTM0000"===e.msgCode&&e.data&&e.data.bankCd&&"D"!==e.data.cardTyp){var a={bankCd:e.data.bankCd,cardTyp:"C",cardNo:t.valueInputCarNumber};n.bindConfirm(a)}else n.props.toast.info("请输入有效银行卡号")},function(e){e.msgInfo&&n.props.toast.info(e.msgInfo)})},n.confirmBuy=function(){n.state.loading||n.props.form.validateFields(function(e,t){if(e)n.props.toast.info((0,y.getFirstError)(e));else{var a={cardNo:t.valueInputCarNumber};n.checkCard(a,t)}})},n.supporBank=function(){n.props.history.push("/mine/support_credit_page")},n.state={loading:!1,userName:"",cardData:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,d.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}(t,u.PureComponent),b(t,[{key:"componentWillMount",value:function(){this.queryUserInf()}},{key:"render",value:function(){var e=s.default.Item,t=this.props.form.getFieldProps;return f.default.createElement("div",{className:C.default.bind_credit_page},f.default.createElement(s.default,null,f.default.createElement(e,{extra:this.state.userName},"持卡人"),f.default.createElement(c.default,m({maxLength:"24",type:"number"},t("valueInputCarNumber",{rules:[{required:!0,message:"请输入有效银行卡号"},{validator:this.validateCarNumber}]}),{placeholder:"请输入信用卡卡号"}),"信用卡卡号")),f.default.createElement("p",{className:C.default.tips},"借款资金将转入您绑定代信用卡中，请注意查收"),f.default.createElement(_.default,{onClick:this.confirmBuy,className:C.default.confirm_btn},"确认"),f.default.createElement("span",{className:C.default.support_type,onClick:this.supporBank},"支持银行卡类型"))}}]),t}())||a)||a);t.default=k}).call(this,n("YuTi")(e))},ewoT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.validators={number:function(e){return/^[0-9]*$/.test(e)},bankCardNumber:function(e){return/^\d{16}|\d{24}$/.test(e)},phone:function(e){return/^1\d{10}$/.test(e)},iDCardNumber:function(e){return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)},enLength:function(e,t,n){return""!==e.replace(/(^\s*)|(\s*$)/g,"")&&(t?!(e.length<t)&&(!n||!(e.length>n)):void 0)},name:function(e){return/^([\u4e00-\u9fa5])|(\\.)|(\\·){1,10}$/.test(e)},chLength:function(e,t,n){return new RegExp("^(([一-龥])|(\\.)|(\\·)){"+(t||1)+","+(n||1e5)+"}$").test(e)}}},orV9:function(e,t,n){var a=n("Epcn");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=n("aET+")(a,r);a.locals&&(e.exports=a.locals),e.hot.accept("Epcn",function(){var t=n("Epcn");if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}),e.hot.dispose(function(){i()})}}]);